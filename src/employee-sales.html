<link rel="import" href="../bower_components/polymer/polymer-element.html">
<link rel="import" href="../bower_components/vaadin-charts/vaadin-pie-chart.html">
<link rel="import" href="shared-styles.html">

<dom-module id="employee-sales">
  <template>
    <style include="shared-styles">
      :host {
        display: block;
        background: transparent;
      }
    </style>

    <div class="card">
      <vaadin-pie-chart id="chart">
        <chart-title>Employee sales percentages, 2018</chart-title>
        <chart background-color="transparent" height="400"></chart>
        <tooltip value-decimals="1" point-format="{series.name}: <b>{point.percentage:.1f}%</b>">
        </tooltip>
        <plot-options>
          <pie allow-point-select="true" show-in-legend="true" cursor="pointer">
            <data-labels enabled="true" format="<b>{point.name}</b>:    {point.percentage} %">
            </data-labels>
          </pie>
        </plot-options>

        <data-series name="Employee share" data="[[chartData]]"></data-series>
      </vaadin-pie-chart>
    </div>

  </template>
  <script>
    class EmployeeSales extends Polymer.Element {
      static get is() {
        return 'employee-sales';
      }
      static get properties() {
        return {
          chartData: {
            type: Array,
            value: () =>
              [
                ['Aiden', 41.0], 
                ['Austin', 30.8], 
                ['Gabriella', 12.8], 
                ['Jace', 8.5], 
                ['Michael', 6.2], 
                ['Sarah', 0.7]
              ]
          }
        };
      }
    }
    window.customElements.define(EmployeeSales.is, EmployeeSales);
  </script>
</dom-module>
